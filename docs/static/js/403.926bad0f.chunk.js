!function(){"use strict";var t={9403:function(t,n,e){var r,a=e(7762),i=e(5861),o=e(7757),u=e.n(o),s=e(1435),c=e(9591),l=e(5671),f=e(3144),p=e(136),h=e(9388),v=e(763),g=e.n(v),d=e(874),y=e(6043),m=function t(n){(0,l.Z)(this,t),this.part=n,this.type="none"},k=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,l.Z)(this,e),(a=n.call(this,t)).progress=r,a.timeMs=i,a.type="progress",a}return e}(m),w=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(t,r,a,i){var o;return(0,l.Z)(this,e),(o=n.call(this,t)).result=r,o.timeMs=a,o.visualizationData=i,o.type="result",o}return e}(m),b=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,l.Z)(this,e),(a=n.call(this,t)).message=r,a.timeMs=i,a.type="error",a}return e}(m),Z=function(){function t(){(0,l.Z)(this,t),this.minTimeBetweenUpdatesMs=20,this.visualizationData=void 0,this._input=void 0,this._inputLines=void 0,this.currentSolution=void 0}return(0,f.Z)(t,[{key:"input",get:function(){var t;return null!==(t=this._input)&&void 0!==t?t:""}},{key:"inputLines",get:function(){return void 0===this._inputLines&&(this._inputLines=this.parseInputLines(this.input)),this._inputLines}},{key:"init",value:function(t){return this._input=t,this}},{key:"solveAsync",value:function(){var t=(0,i.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.n)(this.solveWithProgress(n));case 2:e=t.sent,t.t0=e.type,t.next="result"===t.t0?6:7;break;case 6:return t.abrupt("return",e.result);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()},{key:"solveWithProgress",value:function(t){var n=this;return new d.y((function(e){if(n._input)if(n.currentSolution)e.error(new b(t,"Another solution is already in progress!"));else{var r=1===t?n.part1:n.part2;n.currentSolution={activePart:t,subscriber:e,stopwatch:new y.u,progressStopwatch:new y.u},n.visualizationData=null,n.currentSolution.stopwatch.start(),n.currentSolution.progressStopwatch.start();try{var a=r.apply(n)+"",i=n.currentSolution.stopwatch.stop(),o=new w(t,a,i,n.visualizationData);e.next(o)}catch(c){var u,s=null!==(u=n.currentSolution.stopwatch.stop())&&void 0!==u?u:0;e.next(new b(t,c+"",s))}finally{e.complete(),n.visualizationData=null,n.currentSolution=void 0}}else e.error(new b(t,"No input provided!"))}))}},{key:"updateProgress",value:function(t){var n=this.currentSolution;n&&n.progressStopwatch.getTime()>this.minTimeBetweenUpdatesMs&&(n.subscriber.next(new k(n.activePart,t,n.stopwatch.getTime())),n.progressStopwatch.start(!0))}},{key:"noSolution",value:function(t){throw new Error(t)}},{key:"parseInputLines",value:function(t){var n,e=t.split(/\r\n?|\n/g),r=/^\s*$/gm;for(n=0;n<e.length;n++){var a=e[e.length-n-1];if(!r.test(a))break}return e.splice(e.length-n,n),e}}]),t}(),x=e(1413),S=[];function L(){var t="number"===typeof(arguments.length<=0?void 0:arguments[0])?{day:arguments.length<=0?void 0:arguments[0],title:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0];return function(n){S.push((0,x.Z)((0,x.Z)({},t),{},{ctor:n,create:function(){return new n}}))}}L({day:1,title:"Report Repair"})(r=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){var t;(0,l.Z)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).visualizationData=void 0,t}return(0,f.Z)(e,[{key:"part1",value:function(){for(var t=[],n=this.inputLines.map((function(t){return(0,v.toInteger)(t)})),e=0;e<n.length;e++)for(var r=n[e],a=e+1;a<n.length;a++){var i=n[a];if(t.push(e,a),r+i===2020)return this.visualizationData={numbers:n,i:e,j:a,checks:t},r*i}this.noSolution()}},{key:"part2",value:function(){for(var t=[],n=this.inputLines.map((function(t){return(0,v.toInteger)(t)})),e=0;e<n.length;e++)for(var r=n[e],a=e+1;a<n.length;a++)for(var i=n[a],o=a+1;o<n.length;o++){var u=n[o];if(t.push(e,a,o),r+i+u===2020)return this.visualizationData={numbers:n,i:e,j:a,k:o,checks:t},r*i*u}this.noSolution()}}]),e}(Z));var P,j,D,E,I,V=e(3324),z=(L({day:2,title:"Password Philosophy"})(P=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){var t;(0,l.Z)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).regex=/([0-9]+)-([0-9]+) ([a-z]): ([a-z]+)/g,t}return(0,f.Z)(e,[{key:"part1",value:function(){for(var t,n=0;t=this.regex.exec(this.input);){var e=t,r=(0,V.Z)(e,5),a=r[1],i=r[2],o=r[3],u=r[4].split(o).length-1;u>=parseInt(a)&&u<=parseInt(i)&&n++}return n}},{key:"part2",value:function(){for(var t,n=0;t=this.regex.exec(this.input);){var e=t,r=(0,V.Z)(e,5),a=r[1],i=r[2],o=r[3],u=r[4];u[parseInt(a)-1]===o!==(u[parseInt(i)-1]===o)&&n++}return n}}]),e}(Z)),L({day:3,title:"Toboggan Trajectory"})(j=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,l.Z)(this,e),n.apply(this,arguments)}return(0,f.Z)(e,[{key:"part1",value:function(){return this.getTreeCount({x:3,y:1})}},{key:"part2",value:function(){var t=this;return[[1,1],[3,1],[5,1],[7,1],[1,2]].map((function(t){return{x:t[0],y:t[1]}})).map((function(n){return t.getTreeCount(n)})).reduce((function(t,n){return t*n}),1)}},{key:"getTreeCount",value:function(t){for(var n=this.inputLines,e=n[0].length,r=n.length,a={x:0,y:0},i=0;a.y<r;){"#"===n[a.y][a.x%e]&&i++,a=this.add(a,t)}return i}},{key:"add",value:function(t,n){return{x:t.x+n.x,y:t.y+n.y}}}]),e}(Z)),L({day:4,title:"Passport Processing"})(D=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){var t;(0,l.Z)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).fieldValidators=[["byr",t.createYearValidator(1920,2002)],["iyr",t.createYearValidator(2010,2020)],["eyr",t.createYearValidator(2020,2030)],["hgt",t.heightValidator],["hcl",function(t){return/^#[0-9a-f]{6}$/g.test(t)}],["ecl",function(t){return/^(amb|blu|brn|gry|grn|hzl|oth)$/g.test(t)}],["pid",t.createNumberValidator(9)]].map((function(t){return{field:t[0],validate:t[1]}})),t}return(0,f.Z)(e,[{key:"part1",value:function(){var t=this;return this.getPassports().filter((function(n){return t.fieldValidators.every((function(t){return n.has(t.field)}))})).length}},{key:"part2",value:function(){var t=this;return this.getPassports().filter((function(n){return t.fieldValidators.every((function(t){return n.has(t.field)}))})).filter((function(n){return t.fieldValidators.every((function(t){return t.validate(n.get(t.field))}))})).length}},{key:"createNumberValidator",value:function(t){return function(n){return new RegExp("^[0-9]{".concat(t,"}$")).test(n)}}},{key:"createYearValidator",value:function(t,n){var e=this.createNumberValidator(4);return function(r){if(!e(r))return!1;var a=parseInt(r);return a>=t&&a<=n}}},{key:"heightValidator",value:function(t){var n=/^([0-9]+)(?:cm|in)$/;if(!n.test(t))return!1;var e=parseInt(n.exec(t)[1]);return t.indexOf("cm")>=0?e>=150&&e<=193:e>=59&&e<=76}},{key:"getPassports",value:function(){var t,n=/([a-z]{3}):(\S+)/g,e=this.input.split(/\r\n\r\n|\n\n/g),r=[],i=(0,a.Z)(e);try{for(i.s();!(t=i.n()).done;){for(var o=t.value,u=new Map,s=void 0;s=n.exec(o);){var c=s,l=(0,V.Z)(c,3),f=l[1],p=l[2];u.set(f,p)}r.push(u)}}catch(h){i.e(h)}finally{i.f()}return r}}]),e}(Z)),L({day:5,title:"Binary Boarding"})(E=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,l.Z)(this,e),n.apply(this,arguments)}return(0,f.Z)(e,[{key:"part1",value:function(){var t=this;return g()(this.inputLines).map((function(n){return t.decode(n).id})).max()}},{key:"part2",value:function(){var t,n=this,e=new Map(this.inputLines.map((function(t){return n.decode(t)})).map((function(t){return[t.id,t]}))),r=(0,a.Z)(e.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!e.has(i.id+1)&&e.has(i.id+2))return i.id+1}}catch(o){r.e(o)}finally{r.f()}this.noSolution()}},{key:"decode",value:function(t){var n=t.slice(0,7),e=t.slice(7,10),r=n.replace(/F/g,"0").replace(/B/g,"1"),a=e.replace(/L/g,"0").replace(/R/g,"1"),i=parseInt(r,2),o=parseInt(a,2);return{row:i,column:o,id:8*i+o}}}]),e}(Z)),L({day:22,title:"Crab Combat"})(I=function(t){(0,p.Z)(e,t);var n=(0,h.Z)(e);function e(){var t;(0,l.Z)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).isLogEnabled=!1,t.gameCount=void 0,t}return(0,f.Z)(e,[{key:"part1",value:function(){var t=this.parseDecks();return this.playGame(t,{isRecursive:!1}),this.calculateScore(t)}},{key:"part2",value:function(){var t=this.parseDecks();return this.playGame(t,{isRecursive:!0}),this.calculateScore(t)}},{key:"calculateScore",value:function(t){return t.filter((function(t){return t.length>0}))[0].reverse().reduce((function(t,n,e){return t+n*(e+1)}),0)}},{key:"playGame",value:function(t,n){var e=this,r=new Set,a=++this.gameCount,i=0;this.isLogEnabled&&console.log("\n== Game ".concat(a," =="));for(var o=function(){i++,1===a&&e.updateProgress(Math.max(t[0].length,t[1].length)/(t[0].length+t[1].length)),e.isLogEnabled&&(console.log("\n-- Round ".concat(i," (Game ").concat(a,") --")),t.forEach((function(t,n){return console.log("Player ".concat(n+1,"'s deck: ").concat(t.join(", ")))})));var o=e.getState(t);if(r.has(o))return{v:0};r.add(o);var u=t.map((function(t){return t.shift()})),s=(0,V.Z)(u,2),c=s[0],l=s[1];e.isLogEnabled&&u.forEach((function(t,n){return console.log("Player ".concat(n+1," plays: ").concat(t))}));var f=c>l?0:1;if(n.isRecursive&&t[0].length>=c&&t[1].length>=l){e.isLogEnabled&&console.log("Playing a sub-game to determine a winner...");var p=t.map((function(t,n){return t.slice(0,u[n])}));f=e.playGame(p,n),e.isLogEnabled&&console.log("\n...anyway, back to game ".concat(a,"."))}0===f?t[0].push(c,l):t[1].push(l,c),e.isLogEnabled&&console.log("Player ".concat(f+1," wins round ").concat(i," of game ").concat(a,"!"))};t[0].length>0&&t[1].length>0;){var u=o();if("object"===typeof u)return u.v}var s=t.findIndex((function(t){return t.length>0}));return this.isLogEnabled&&(console.log("The winner of game ".concat(a," is player ").concat(s+1,"!")),1===a&&(console.log("\n\n== Post-game results =="),t.forEach((function(t,n){return console.log("Player ".concat(n+1,"'s deck: ").concat(t.join(", ")))})))),s}},{key:"getState",value:function(t){return t[0].join(",")+"|"+t[1].join(",")}},{key:"parseDecks",value:function(){for(var t,n=[],e=0,r=0;r<2;r++){e++;for(var a=[];(t=this.inputLines[e++])&&t.length>0;)a.push(parseInt(t));n.push(a)}return this.gameCount=0,n}}]),e}(Z)),(new(function(){function t(){(0,l.Z)(this,t)}return(0,f.Z)(t,[{key:"getSolutionsByDay",value:function(){return new Map(S.map((function(t){return[t.day,t]})))}},{key:"getSolutions",value:function(){return Array.from(this.getSolutionsByDay().values()).sort((function(t,n){return t.day-n.day}))}}]),t}())).getSolutionsByDay());addEventListener("message",function(){var t=(0,i.Z)(u().mark((function t(n){var e,r,i,o,l,f,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.data,r=z.get(e.day)){t.next=4;break}return t.abrupt("return");case 4:(i=r.create()).init(e.input),o=(0,a.Z)([1,2]),t.prev=7,o.s();case 9:if((l=o.n()).done){t.next=16;break}return f=l.value,p=i.solveWithProgress(f),t.next=14,(0,s.n)(p.pipe((0,c.b)((function(t){return postMessage(t)}))));case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),o.e(t.t0);case 21:return t.prev=21,o.f(),t.finish(21);case 24:postMessage(new w(-1,null,0));case 25:case"end":return t.stop()}}),t,null,[[7,18,21,24]])})));return function(n){return t.apply(this,arguments)}}())}},n={};function e(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}e.m=t,e.x=function(){var t=e.O(void 0,[480],(function(){return e(9403)}));return t=e.O(t)},function(){var t=[];e.O=function(n,r,a,i){if(!r){var o=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],i=t[l][2];for(var u=!0,s=0;s<r.length;s++)(!1&i||o>=i)&&Object.keys(e.O).every((function(t){return e.O[t](r[s])}))?r.splice(s--,1):(u=!1,i<o&&(o=i));if(u){t.splice(l--,1);var c=a();void 0!==c&&(n=c)}}return n}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,a,i]}}(),e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,r){return e.f[r](t,n),n}),[]))},e.u=function(t){return"static/js/"+t+".401139d8.chunk.js"},e.miniCssF=function(t){},e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},e.p="/aoc2021/",function(){var t={403:1};e.f.i=function(n,r){t[n]||importScripts(e.p+e.u(n))};var n=self.webpackChunkaoc2021=self.webpackChunkaoc2021||[],r=n.push.bind(n);n.push=function(n){var a=n[0],i=n[1],o=n[2];for(var u in i)e.o(i,u)&&(e.m[u]=i[u]);for(o&&o(e);a.length;)t[a.pop()]=1;r(n)}}(),function(){var t=e.x;e.x=function(){return e.e(480).then(t)}}();e.x()}();
//# sourceMappingURL=403.926bad0f.chunk.js.map