!function(){"use strict";var t={2846:function(t,n,e){var r,i=e(7762),u=e(5861),a=e(7757),o=e.n(a),s=e(1435),c=e(9591),f=e(5671),p=e(3144),l=e(136),h=e(9388),v=e(874),d=e(6043),y=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,f.Z)(this,t),this.part=n,this.progress=e,this.timeMs=r,this.kind="progress"},m=function t(n,e,r,i){(0,f.Z)(this,t),this.part=n,this.result=e,this.timeMs=r,this.visualizationData=i,this.kind="result"},g=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,f.Z)(this,t),this.part=n,this.message=e,this.timeMs=r,this.kind="error"},k=function(){function t(){(0,f.Z)(this,t),this.minTimeBetweenUpdatesMs=20,this.visualizationData=void 0,this._input=void 0,this._inputLines=void 0,this.currentSolution=void 0}return(0,p.Z)(t,[{key:"input",get:function(){var t;return null!==(t=this._input)&&void 0!==t?t:""}},{key:"inputLines",get:function(){return void 0===this._inputLines&&(this._inputLines=this.parseInputLines(this.input)),this._inputLines}},{key:"init",value:function(t){return this._input=t,this}},{key:"solveAsync",value:function(){var t=(0,u.Z)(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.n)(this.solveWithProgress(n));case 2:e=t.sent,t.t0=e.kind,t.next="result"===t.t0?6:7;break;case 6:return t.abrupt("return",e.result);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()},{key:"solveWithProgress",value:function(t){var n=this;return new v.y((function(e){if(n._input)if(n.currentSolution)e.error(new g(t,"Another solution is already in progress!"));else{var r=1===t?n.part1:n.part2;n.currentSolution={activePart:t,subscriber:e,stopwatch:new d.u,progressStopwatch:new d.u},n.visualizationData=null,n.currentSolution.stopwatch.start(),n.currentSolution.progressStopwatch.start();try{var i=r.apply(n)+"",u=n.currentSolution.stopwatch.stop(),a=new m(t,i,u,n.visualizationData);e.next(a)}catch(c){var o,s=null!==(o=n.currentSolution.stopwatch.stop())&&void 0!==o?o:0;e.next(new g(t,c+"",s))}finally{e.complete(),n.visualizationData=null,n.currentSolution=void 0}}else e.error(new g(t,"No input provided!"))}))}},{key:"updateProgress",value:function(t){var n=this.currentSolution;n&&n.progressStopwatch.getTime()>this.minTimeBetweenUpdatesMs&&(n.subscriber.next(new y(n.activePart,t,n.stopwatch.getTime())),n.progressStopwatch.start(!0))}},{key:"noSolution",value:function(t){var n;throw t=null!==(n=t)&&void 0!==n?n:"No solution available.",new Error(t)}},{key:"parseInputLines",value:function(t){var n,e=t.split(/\r\n?|\n/g),r=/^\s*$/gm;for(n=0;n<e.length;n++){var i=e[e.length-n-1];if(!r.test(i))break}return e.splice(e.length-n,n),e}}]),t}(),Z=e(1413),w=[];function b(){var t="number"===typeof(arguments.length<=0?void 0:arguments[0])?{day:arguments.length<=0?void 0:arguments[0],title:arguments.length<=1?void 0:arguments[1]}:arguments.length<=0?void 0:arguments[0];return function(n){w.push((0,Z.Z)((0,Z.Z)({},t),{},{ctor:n,create:function(){return new n}}))}}b({day:1,title:"Sonar Sweep"})(r=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.inputLines.map((function(t){return parseInt(t)}));return t.slice(1).reduce((function(n,e,r){return n+(t[r]<e?1:0)}),0)}},{key:"part2",value:function(){var t=this.inputLines.map((function(t){return parseInt(t)})),n=t.slice(2).map((function(n,e){return t[e]+t[e+1]+n}));return n.slice(1).reduce((function(t,e,r){return t+(n[r]<e?1:0)}),0)}}]),e}(k));var x,S=e(3324),I=e(9062);function M(t,n){for(var e,r=[];e=t.exec(n);)r.push(e);return r}function L(t,n){return new Set((0,I.Z)(t).filter((function(t){return n.has(t)})))}b({day:2,title:"Dive!"})(x=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t={hor:0,dep:0};return this.parseInput().forEach((function(n){t.hor+=n.hor,t.dep+=n.dep})),t.hor*t.dep}},{key:"part2",value:function(){var t={hor:0,dep:0,aim:0};return this.parseInput().forEach((function(n){t.aim+=n.dep,t.hor+=n.hor,t.dep+=t.aim*n.hor})),t.hor*t.dep}},{key:"parseInput",value:function(){return M(/([a-z]+) (\d+)/g,this.input).map((function(t){var n=(0,S.Z)(t,3),e=n[1],r=n[2],i=parseInt(r),u={hor:0,dep:0};switch(e){case"forward":u.hor+=i;break;case"down":u.dep+=i;break;case"up":u.dep-=i;break;default:throw new Error("Invalid input!")}return u}))}}]),e}(k)),b({day:3,title:"Binary Diagnostic"})(E=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.inputLines,n=t.length/2,e=t[0].split("").map((function(n,e){return t.reduce((function(t,n){return t+parseInt(n[e])}),0)}));return parseInt(e.map((function(t){return t>=n?"1":"0"})).join(""),2)*parseInt(e.map((function(t){return t<n?"1":"0"})).join(""),2)}},{key:"part2",value:function(){var t=this.inputLines;return this.getRating(t,"most_common")*this.getRating(t,"least_common")}},{key:"getRating",value:function(t,n){for(var e=0;e<t[0].length&&1!==(t=this.filter(t,e,n)).length;e++);return parseInt(t[0],2)}},{key:"filter",value:function(t,n,e){var r=t.reduce((function(t,e){return t+parseInt(e[n])}),0),i=r>=t.length/2!==("least_common"===e)?"1":"0";return t.filter((function(t){return t[n]===i}))}}]),e}(k)),b({day:4,title:"Giant Squid"})(P=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){return this.playBingo("play to win")}},{key:"part2",value:function(){return this.playBingo("let the giant squid win")}},{key:"playBingo",value:function(t){var n,e=this,r=this.parseInput(),u=r.numbers,a=r.boards,o=r.lookup,s=a.map((function(){return Array(5).fill(0).map((function(){return Array(5).fill(!1)}))})),c=new Set,f="play to win"===t?1:a.length,p=(0,i.Z)(u);try{for(p.s();!(n=p.n()).done;){var l=n.value,h=o.get(l);if(h){var v,d=(0,i.Z)(h);try{var y=function(){var t=v.value,n=t.ti,r=t.tj,i=t.tk;if((s[n][r][i]=!0,!c.has(n)&&e.isBingo(s[n],r,i))&&(c.add(n),c.size===f))return{v:a[n].reduce((function(t,e,r){return t+e.reduce((function(t,e,i){return t+(s[n][r][i]?0:e)}),0)}),0)*l}};for(d.s();!(v=d.n()).done;){var m=y();if("object"===typeof m)return m.v}}catch(g){d.e(g)}finally{d.f()}}}}catch(g){p.e(g)}finally{p.f()}this.noSolution()}},{key:"isBingo",value:function(t,n,e){for(var r=!0,i=!0,u=0;u<5;u++)if(r&&(r=t[u][e]),i&&(i=t[n][u]),!r&&!i)return!1;return!0}},{key:"parseInput",value:function(){for(var t=this,n=this.parseNumbersInLine(this.inputLines[0]),e=[],r=new Map,i=1,u=function(){for(var n=[],u=e.push(n)-1,a=void 0,o=function(){var e=t.parseNumbersInLine(a),i=n.push(e)-1;e.map((function(t,n){var e=r.get(t);e||r.set(t,e=[]),e.push({ti:u,tj:i,tk:n})}))};a=t.inputLines[++i];)o()};i<this.inputLines.length;)u();return{numbers:n,boards:e,lookup:r}}},{key:"parseNumbersInLine",value:function(t){return M(/\d+/g,t).map((function(t){return parseInt(t[0])}))}}]),e}(k)),b({day:5,title:"Hydrothermal Venture"})(C=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.parsePipes(),n=this.createMap(t,"skip diagonals");return this.countOverlaps(n)}},{key:"part2",value:function(){var t=this.parsePipes(),n=this.createMap(t,"include diagonals");return this.countOverlaps(n)}},{key:"countOverlaps",value:function(t){return t.reduce((function(t,n){return t+n.reduce((function(t,n){return t+(n>1?1:0)}),0)}),0)}},{key:"createMap",value:function(t,n){var e,r=[],u="skip diagonals"===n,a=(0,i.Z)(t);try{for(a.s();!(e=a.n()).done;){var o=e.value,s=o.x1,c=o.y1,f=o.x2,p=o.y2;u&&s!==f&&c!==p||this.drawLine(r,s,c,f,p)}}catch(l){a.e(l)}finally{a.f()}return r}},{key:"drawLine",value:function(t,n,e,r,i){for(var u=Math.sign(r-n),a=Math.sign(i-e),o=(0,S.Z)([null,null],2),s=o[0],c=o[1];s!==r||c!==i;){var f,p;s=(null!==(f=s)&&void 0!==f?f:n-u)+u,void 0===t[c=(null!==(p=c)&&void 0!==p?p:e-a)+a]&&(t[c]=[]),void 0===t[c][s]&&(t[c][s]=0),t[c][s]++}}},{key:"parsePipes",value:function(){return M(/(\d+),(\d+) -> (\d+),(\d+)/g,this.input).map((function(t){var n=t.slice(1).map((function(t){return parseInt(t)})),e=(0,S.Z)(n,4);return{x1:e[0],y1:e[1],x2:e[2],y2:e[3]}}))}}]),e}(k)),b({day:6,title:"Lanternfish"})(j=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){return this.simulateLanternfish(80)}},{key:"part2",value:function(){return this.simulateLanternfish(256)}},{key:"simulateLanternfish",value:function(t){var n=Array(9).fill(0);M(/\d/g,this.input).map((function(t){return parseInt(t[0])})).forEach((function(t){return n[t]++}));for(var e=0;e<t;e++){var r=n.shift();n[8]=r,n[6]+=r}return n.reduce((function(t,n){return t+n}),0)}}]),e}(k)),b({day:7,title:"The Treachery of Whales"})(O=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){for(var t=this.parseInput(),n=t.crabs,e=t.minPos,r=t.maxPos,i=Number.MAX_VALUE,u=function(t){var e=n.reduce((function(n,e){return n+Math.abs(e-t)}),0);i=Math.min(i,e)},a=e;a<=r;a++)u(a);return i}},{key:"part2",value:function(){for(var t=this.parseInput(),n=t.crabs,e=t.minPos,r=t.maxPos,i=Number.MAX_VALUE,u=function(t){var e=n.reduce((function(n,e){var r=Math.abs(e-t);return n+r*(r+1)/2}),0);i=Math.min(i,e)},a=e;a<=r;a++)u(a);return i}},{key:"parseInput",value:function(){var t=Number.MAX_VALUE,n=Number.MIN_VALUE;return{crabs:M(/\d+/g,this.input).map((function(e){var r=parseInt(e[0]);return t=Math.min(t,r),n=Math.max(n,r),r})),minPos:t,maxPos:n}}}]),e}(k));var E,P,C,j,O,D,_,A,N,z,B,V,T=["abcefg","cf","acdeg","acdfg","bcdf","abdfg","abdefg","acf","abcdefg","abcdfg"],U=new Set(T),R=(b({day:8,title:"Seven Segment Search"})(D=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=new Set([2,3,4,7]);return this.parseInput().reduce((function(n,e){return n+e.digits.reduce((function(n,e){return n+(t.has(e.length)?1:0)}),0)}),0)}},{key:"part2",value:function(){var t=this,n=this.parseInput();return n.reduce((function(e,r,i){return t.updateProgress(i/n.length),e+t.decodeDisplayValue(r)}),0)}},{key:"decodeDisplayValue",value:function(t){var n=this,e=t.patterns,r=t.digits,i=this.generateVagueSegmentMap(e),u=this.resolveSegmentMap(i,e);return u||this.noSolution(),parseInt(r.map((function(t){return n.decodeDigit(t,u)})).join(""))}},{key:"resolveSegmentMap",value:function(t,n){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===t.length){var u=Object.fromEntries(t.map((function(t){return[t.from,t.to[0]]})));return this.isSegmentMapValid(u,n)?u:null}var a,o=t[r].to,s=(0,i.Z)(o);try{var c=function(){var i=a.value,u=[].concat((0,I.Z)(t.slice(0,r)),[{from:t[r].from,to:[i]}],(0,I.Z)(t.slice(r+1).map((function(t){return{from:t.from,to:t.to.filter((function(t){return t!==i}))}})))),o=e.resolveSegmentMap(u,n,r+1);if(o)return{v:o}};for(s.s();!(a=s.n()).done;){var f=c();if("object"===typeof f)return f.v}}catch(p){s.e(p)}finally{s.f()}return null}},{key:"isSegmentMapValid",value:function(t,n){var e=this;return n.every((function(n){return U.has(e.decodeSegments(n,t))}))}},{key:"decodeDigit",value:function(t,n){return T.indexOf(this.decodeSegments(t,n))}},{key:"decodeSegments",value:function(t,n){return t.split("").map((function(t){return n[t]})).sort().join("")}},{key:"generateVagueSegmentMap",value:function(t){var n=new Map(Array(8).fill(0).map((function(t,n){return[n,[]]})));T.forEach((function(t){return n.get(t.length).push(t.split(""))}));var e,r=new Map,u=(0,i.Z)(t);try{var a=function(){var t=e.value,u=new Map,a=n.get(t.length);t.split("").forEach((function(t){return a.forEach((function(n){return n.forEach((function(n){u.has(t)||u.set(t,new Set),u.get(t).add(n)}))}))}));var o,s=(0,i.Z)(u.entries());try{for(s.s();!(o=s.n()).done;){var c=(0,S.Z)(o.value,2),f=c[0],p=c[1];if(r.has(f)){var l=r.get(f);r.set(f,L(l,p))}else r.set(f,p)}}catch(h){s.e(h)}finally{s.f()}};for(u.s();!(e=u.n()).done;)a()}catch(o){u.e(o)}finally{u.f()}return(0,I.Z)(r.entries()).map((function(t){return{from:t[0],to:(0,I.Z)(t[1])}})).sort((function(t,n){return t.to.length-n.to.length}))}},{key:"parseInput",value:function(){return M(/(.+) \| (.+)/g,this.input).map((function(t){var n=(0,S.Z)(t,3),e=n[1],r=n[2];return{patterns:M(/[a-g]+/g,e).map((function(t){return t[0]})),digits:M(/[a-g]+/g,r).map((function(t){return t[0]}))}}))}}]),e}(k)),[[-1,0],[0,-1],[1,0],[0,1]].map((function(t){return{x:t[0],y:t[1]}}))),W=(b({day:9,title:"Smoke Basin"})(_=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.parseInput();return this.getLowPoints(t).reduce((function(n,e){return n+1+t.map[e.y][e.x]}),0)}},{key:"part2",value:function(){var t=this,n=this.parseInput();return this.getLowPoints(n).map((function(e){return t.flood(n,e)})).sort((function(t,n){return n-t})).slice(0,3).reduce((function(t,n){return t*n}),1)}},{key:"getLowPoints",value:function(t){for(var n=t.map,e=t.width,r=t.height,i=[],u=function(t){for(var r=function(e){var r=n[t][e];R.map((function(r){return n[t+r.y]&&n[t+r.y][e+r.x]})).every((function(t){return void 0===t||r<t}))&&i.push({x:e,y:t})},u=0;u<e;u++)r(u)},a=0;a<r;a++)u(a);return i}},{key:"flood",value:function(t,n){for(var e=t.map,r=t.width,i=t.height,u=new Set,a=[n],o=function(){var t,n=a.shift(),o=(t=n).y*r+t.x;if(u.has(o))return"continue";u.add(o),R.forEach((function(t){var u=n.x+t.x,o=n.y+t.y;u>=0&&u<r&&o>=0&&o<i&&e[o][u]<9&&a.push({x:u,y:o})}))};a.length>0;)o();return u.size}},{key:"parseInput",value:function(){var t=this.inputLines.map((function(t){return M(/\d/g,t).map((function(t){return parseInt(t[0])}))}));return{map:t,width:t[0].length,height:t.length}}}]),e}(k)),{"(":")","[":"]","{":"}","<":">"}),X={")":3,"]":57,"}":1197,">":25137},q={")":1,"]":2,"}":3,">":4},F=(b({day:10,title:"Syntax Scoring"})(A=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this;return this.inputLines.reduce((function(n,e){return n+t.score(e,"check")}),0)}},{key:"part2",value:function(){var t=this,n=this.inputLines.filter((function(n){return!t.score(n,"check")})).map((function(n){return t.score(n,"complete")}));return n.sort((function(t,n){return t-n}))[Math.floor(n.length/2)]}},{key:"score",value:function(t,n){var e,r=[],u=(0,i.Z)(t.split(""));try{for(u.s();!(e=u.n()).done;){var a=e.value;if(W[a])r.push(a);else{var o=r.pop();if(W[o]!==a)return X[a]}}}catch(c){u.e(c)}finally{u.f()}var s=0;return"complete"===n&&(s=r.reduceRight((function(t,n){return 5*t+q[W[n]]}),0)),s}}]),e}(k)),b({day:11,title:"Dumbo Octopus"})(N=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){for(var t=this.parseInput(),n=0,e=1;e<=100;e++)n+=this.step(t);return n}},{key:"part2",value:function(){for(var t=this.parseInput(),n=t.width*t.height,e=1;this.step(t)<n;)e++;return e}},{key:"step",value:function(t){var n=this,e=t.map,r=0;return this.forEachCell(t,(function(t,n){return e[n][t]++})),this.forEachCell(t,(function(e,i){return r+=n.flash(t,e,i)})),this.forEachCell(t,(function(t,n){return e[n][t]=Math.max(0,e[n][t])})),r}},{key:"flash",value:function(t,n,e){var r=this,i=t.map;if(i[e][n]<=9)return 0;var u=1;return i[e][n]=Number.MIN_SAFE_INTEGER,this.forEachNeighbor(t,n,e,(function(n,e){i[e][n]++,i[e][n]>9&&(u+=r.flash(t,n,e))})),u}},{key:"forEachCell",value:function(t,n){for(var e=t.width,r=t.height,i=0;i<r;i++)for(var u=0;u<e;u++)n(u,i)}},{key:"forEachNeighbor",value:function(t,n,e,r){for(var i=t.width,u=t.height,a=Math.min(i-1,n+1),o=Math.min(u-1,e+1),s=Math.max(0,e-1);s<=o;s++)for(var c=Math.max(0,n-1);c<=a;c++)c===n&&s===e||r(c,s)}},{key:"visualize",value:function(t){var n=t.map.map((function(t){return t.map((function(t){return t<0?"-":t>9?"+":t})).join("")})).join("\n");console.log("\n".concat(n))}},{key:"parseInput",value:function(){var t,n,e=M(/\d+/g,this.input).map((function(t){return t[0].split("").map((function(t){return parseInt(t)}))}));return{map:e,width:null!==(t=null===(n=e[0])||void 0===n?void 0:n.length)&&void 0!==t?t:0,height:e.length}}}]),e}(k)),b({day:12,title:"Passage Pathing"})(z=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){return this.findPathCount(this.parseCaveSystem(),1)}},{key:"part2",value:function(){return this.findPathCount(this.parseCaveSystem())}},{key:"findPathCount",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,u=t.map,a=t.start,o=t.end;if(!e||!r)return this.findPathCount(t,n,a,new Set([a]));var s,c=0,f=u.get(e),p=(0,i.Z)(f);try{for(p.s();!(s=p.n()).done;){var l=s.value;if(l!==a){var h=n;if(l<0&&r.has(l)){if(h)continue;h=l}r.add(l),l===o?c++:c+=this.findPathCount(t,h,l,r),h!==l&&r.delete(l)}}}catch(v){p.e(v)}finally{p.f()}return c}},{key:"parseCaveSystem",value:function(){var t,n=0,e=M(/(\w+)-(\w+)/g,this.input).map((function(t){var n=(0,S.Z)(t,3);return[n[1],n[2]]})),r=(0,I.Z)(new Set(e.flat())),u=Object.fromEntries(r.map((function(t){return[t,++n*(t[0].toUpperCase()===t[0]?1:-1)]}))),a=new Map(r.map((function(t){return[u[t],[]]}))),o=(0,i.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=(0,S.Z)(t.value,2),c=s[0],f=s[1];a.get(u[c]).push(u[f]),a.get(u[f]).push(u[c])}}catch(p){o.e(p)}finally{o.f()}return{map:a,start:u.start,end:u.end}}}]),e}(k)),b({day:13,title:"Transparent Origami"})(B=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){var t;(0,f.Z)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=n.call.apply(n,[this].concat(i))).visualizationData=void 0,t}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.parseInput();return this.fold(t.points,t.folds[0]).length}},{key:"part2",value:function(){var t=this;this.visualizationData={steps:[]};var n=this.parseInput(),e=n.folds.reduce((function(n,e){return t.visualizationData.steps.push({points:n,fold:e}),t.fold(n,e)}),n.points);return this.visualizationData.steps.push({points:e}),this.draw(e)}},{key:"fold",value:function(t,n){var e=new Set;return t.map((function(t){return{x:n.x&&t.x>n.x?t.x-2*(t.x-n.x):t.x,y:n.y&&t.y>n.y?t.y-2*(t.y-n.y):t.y}})).filter((function(t){var n="".concat(t.x,",").concat(t.y);return!e.has(n)&&e.add(n)}))}},{key:"draw",value:function(t){var n=t.reduce((function(t,n){return Math.max(t,n.x)}),-1)+1,e=t.reduce((function(t,n){return Math.max(t,n.y)}),-1)+1,r=Array(e).fill(0).map((function(){return Array(n).fill(" ")}));return t.forEach((function(t){return r[t.y][t.x]="\u2588"})),r.map((function(t){return t.join("")})).join("\n")}},{key:"parseInput",value:function(){return{points:M(/(\d+),(\d+)/g,this.input).map((function(t){return{x:parseInt(t[1]),y:parseInt(t[2])}})),folds:M(/fold along ([xy])=(\d+)/g,this.input).map((function(t){var n=t[1],e=parseInt(t[2]);return{x:"x"===n?e:0,y:"y"===n?e:0}}))}}}]),e}(k)),b({day:14,title:"Extended Polymerization"})(V=function(t){(0,l.Z)(e,t);var n=(0,h.Z)(e);function e(){return(0,f.Z)(this,e),n.apply(this,arguments)}return(0,p.Z)(e,[{key:"part1",value:function(){var t=this.parseInput(),n=t.template,e=t.rules,r=this.runSteps(n,e,10),i=r.leastCommonCount;return r.mostCommonCount-i}},{key:"part2",value:function(){var t=this.parseInput(),n=t.template,e=t.rules,r=this.runSteps(n,e,40),i=r.leastCommonCount;return r.mostCommonCount-i}},{key:"runSteps",value:function(t,n,e){var r=(0,I.Z)(new Set(n.flatMap((function(t){return[t.newLetter].concat((0,I.Z)(t.pair.split("")))})))),i=Object.fromEntries(r.map((function(t){return[t,0]}))),u=r.flatMap((function(t){return r.map((function(n){return t+n}))})),a=Object.fromEntries(u.map((function(t){return[t,0]}))),o=Object.fromEntries(n.map((function(t){return[t.pair,t]})));t.split("").forEach((function(t,n,e){i[t]++,n<e.length-1&&a[t+e[n+1]]++}));for(var s=0;s<e;s++)for(var c=function(){var t=(0,S.Z)(p[f],2),n=t[0],e=t[1],r=o[n],u=r.newPairs,s=r.newLetter;i[s]+=e,a[n]-=e,u.forEach((function(t){return a[t]+=e}))},f=0,p=Object.entries(a);f<p.length;f++)c();var l=Object.entries(i).map((function(t){var n=(0,S.Z)(t,2);return{char:n[0],count:n[1]}})).sort((function(t,n){return t.count-n.count})),h=l[0].count;return{mostCommonCount:l[l.length-1].count,leastCommonCount:h}}},{key:"parseInput",value:function(){var t,n;return{template:null!==(t=null===(n=this.input.match(/^\w+/m))||void 0===n?void 0:n[0])&&void 0!==t?t:"",rules:M(/(\w{2}) -> (\w)/g,this.input).map((function(t){var n=(0,S.Z)(t,3),e=n[1],r=n[2];return{pair:e,newLetter:r,newPairs:[e[0]+r,r+e[1]]}}))}}}]),e}(k)),(new(function(){function t(){(0,f.Z)(this,t)}return(0,p.Z)(t,[{key:"getSolutionsByDay",value:function(){return new Map(w.map((function(t){return[t.day,t]})))}},{key:"getSolutions",value:function(){return Array.from(this.getSolutionsByDay().values()).sort((function(t,n){return t.day-n.day}))}}]),t}())).getSolutionsByDay());addEventListener("message",function(){var t=(0,u.Z)(o().mark((function t(n){var e,r,u,a,f,p,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.data,r=F.get(e.day)){t.next=4;break}return t.abrupt("return");case 4:(u=r.create()).init(e.input),a=(0,i.Z)([1,2]),t.prev=7,a.s();case 9:if((f=a.n()).done){t.next=16;break}return p=f.value,l=u.solveWithProgress(p),t.next=14,(0,s.n)(l.pipe((0,c.b)((function(t){return postMessage(t)}))));case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:postMessage(new m(-1,null,0));case 25:case"end":return t.stop()}}),t,null,[[7,18,21,24]])})));return function(n){return t.apply(this,arguments)}}())}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var u=n[r]={exports:{}};return t[r](u,u.exports,e),u.exports}e.m=t,e.x=function(){var t=e.O(void 0,[85],(function(){return e(2846)}));return t=e.O(t)},function(){var t=[];e.O=function(n,r,i,u){if(!r){var a=1/0;for(f=0;f<t.length;f++){r=t[f][0],i=t[f][1],u=t[f][2];for(var o=!0,s=0;s<r.length;s++)(!1&u||a>=u)&&Object.keys(e.O).every((function(t){return e.O[t](r[s])}))?r.splice(s--,1):(o=!1,u<a&&(a=u));if(o){t.splice(f--,1);var c=i();void 0!==c&&(n=c)}}return n}u=u||0;for(var f=t.length;f>0&&t[f-1][2]>u;f--)t[f]=t[f-1];t[f]=[r,i,u]}}(),e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,r){return e.f[r](t,n),n}),[]))},e.u=function(t){return"static/js/"+t+".aa5699c0.chunk.js"},e.miniCssF=function(t){},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/aoc2021/",function(){var t={846:1};e.f.i=function(n,r){t[n]||importScripts(e.p+e.u(n))};var n=self.webpackChunkaoc2021=self.webpackChunkaoc2021||[],r=n.push.bind(n);n.push=function(n){var i=n[0],u=n[1],a=n[2];for(var o in u)e.o(u,o)&&(e.m[o]=u[o]);for(a&&a(e);i.length;)t[i.pop()]=1;r(n)}}(),function(){var t=e.x;e.x=function(){return e.e(85).then(t)}}();e.x()}();
//# sourceMappingURL=846.a6e8f296.chunk.js.map